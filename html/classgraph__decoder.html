<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Marked Graph Compression: graph_decoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Marked Graph Compression
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgraph__decoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">graph_decoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Decodes a simple unmarked graph.  
 <a href="classgraph__decoder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="simple__graph__compression_8h_source.html">simple_graph_compression.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41aa2f322a170376a7904b008e9cdfe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a41aa2f322a170376a7904b008e9cdfe0">graph_decoder</a> (vector&lt; int &gt; a_)</td></tr>
<tr class="memdesc:a41aa2f322a170376a7904b008e9cdfe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor given the degree sequence  <a href="#a41aa2f322a170376a7904b008e9cdfe0">More...</a><br /></td></tr>
<tr class="separator:a41aa2f322a170376a7904b008e9cdfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a9dcd5af21ece86fa91adcb41ca9cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">init</a> ()</td></tr>
<tr class="memdesc:a97a9dcd5af21ece86fa91adcb41ca9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes x to be empty vector of size n, and U and beta by a  <a href="#a97a9dcd5af21ece86fa91adcb41ca9cc">More...</a><br /></td></tr>
<tr class="separator:a97a9dcd5af21ece86fa91adcb41ca9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d2ef81ec6ac66e50c1809f361143922"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgraph.html">graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a3d2ef81ec6ac66e50c1809f361143922">decode</a> (mpz_class f, vector&lt; int &gt; tS_)</td></tr>
<tr class="memdesc:a3d2ef81ec6ac66e50c1809f361143922"><td class="mdescLeft">&#160;</td><td class="mdescRight">given \(\tilde{N}\) and a vector \(\tilde{S}\), decodes the graph and returns an object of type graph  <a href="#a3d2ef81ec6ac66e50c1809f361143922">More...</a><br /></td></tr>
<tr class="separator:a3d2ef81ec6ac66e50c1809f361143922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ff99a4de6035ad257ebd7c6519cdd8"><td class="memItemLeft" align="right" valign="top">pair&lt; mpz_class, mpz_class &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#af3ff99a4de6035ad257ebd7c6519cdd8">decode_node</a> (int i, mpz_class tN)</td></tr>
<tr class="memdesc:af3ff99a4de6035ad257ebd7c6519cdd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">decode the node i  <a href="#af3ff99a4de6035ad257ebd7c6519cdd8">More...</a><br /></td></tr>
<tr class="separator:af3ff99a4de6035ad257ebd7c6519cdd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb0bd279889a833d4c825e99eb72410"><td class="memItemLeft" align="right" valign="top">pair&lt; mpz_class, mpz_class &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a> (int i, int j, int I, mpz_class tN, int Sj)</td></tr>
<tr class="memdesc:a2cb0bd279889a833d4c825e99eb72410"><td class="mdescLeft">&#160;</td><td class="mdescRight">decodes the interval \([i,j]\) with interval index \(I\).  <a href="#a2cb0bd279889a833d4c825e99eb72410">More...</a><br /></td></tr>
<tr class="separator:a2cb0bd279889a833d4c825e99eb72410"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a></td></tr>
<tr class="memdesc:a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">the degree sequence of the graph.  <a href="#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">More...</a><br /></td></tr>
<tr class="separator:a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc1e72b2f7a913d14b789a6c2d92c1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a></td></tr>
<tr class="memdesc:a6bc1e72b2f7a913d14b789a6c2d92c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of vertices, which is a.size()  <a href="#a6bc1e72b2f7a913d14b789a6c2d92c1e">More...</a><br /></td></tr>
<tr class="separator:a6bc1e72b2f7a913d14b789a6c2d92c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59663482843ffa5059128bd6ed866f11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">logn2</a></td></tr>
<tr class="memdesc:a59663482843ffa5059128bd6ed866f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">\(\lfloor \log_2 n \rfloor^2\)  <a href="#a59663482843ffa5059128bd6ed866f11">More...</a><br /></td></tr>
<tr class="separator:a59663482843ffa5059128bd6ed866f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f2776afe387668cf7f68109428e14e"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a></td></tr>
<tr class="memdesc:aa3f2776afe387668cf7f68109428e14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the forward adjacency list of the decoded graph  <a href="#aa3f2776afe387668cf7f68109428e14e">More...</a><br /></td></tr>
<tr class="separator:aa3f2776afe387668cf7f68109428e14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57c11e4c09c52101682ff83286162f7"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a></td></tr>
<tr class="memdesc:aa57c11e4c09c52101682ff83286162f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">the sequence \(\vec{\beta}\), where after decoding vertex \(i\), for \(i \leq v\leq n\) we have \(\beta_v = d_v(i)\).  <a href="#aa57c11e4c09c52101682ff83286162f7">More...</a><br /></td></tr>
<tr class="separator:aa57c11e4c09c52101682ff83286162f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa9fec2cef06aaa410e57fb59d5c1ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a></td></tr>
<tr class="memdesc:a2fa9fec2cef06aaa410e57fb59d5c1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">a Fenwick tree initialized with the degree sequence a, and after decoding vertex \(i\), for \(i \leq v\), we have \(U_v = \sum_{k=v}^{n-1} d_k(i)\).  <a href="#a2fa9fec2cef06aaa410e57fb59d5c1ad">More...</a><br /></td></tr>
<tr class="separator:a2fa9fec2cef06aaa410e57fb59d5c1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac466636b9b21122f4fa0246aa624978c"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">tS</a></td></tr>
<tr class="memdesc:ac466636b9b21122f4fa0246aa624978c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the \(\tilde{S}\) vector, which stores the partial sums for the midpoints of intervals with length more than \(\log^2 n\).  <a href="#ac466636b9b21122f4fa0246aa624978c">More...</a><br /></td></tr>
<tr class="separator:ac466636b9b21122f4fa0246aa624978c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decodes a simple unmarked graph. </p>
<p>Decodes a simple graph given its encoded version. We assume that the decoder knows the degree sequences of the encoded graph, hence these sequences must be given when a decoder object is being constructed. For instance, borrowing the degree sequence of the example we used to explain the <a class="el" href="classgraph__encoder.html" title="Encodes a simple unmarked graph. ">graph_encoder</a> class:</p>
<div class="fragment"><div class="line">vector&lt;int&gt; <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a> = {3,2,2,3};</div><div class="line"><a class="code" href="classb__graph__decoder.html">b_graph_decoder</a> D(a);</div></div><!-- fragment --><p>Then, if variable f of type <code>pair&lt;mpz_class, vector&lt;int&gt; &gt;</code> is obtained from a <a class="el" href="classgraph__encoder.html" title="Encodes a simple unmarked graph. ">graph_encoder</a> class, we can reconstruct the graph using f:</p>
<div class="fragment"><div class="line"><a class="code" href="classgraph.html">graph</a> Ghat = D.decode(f.first, f.second);</div></div><!-- fragment --><p>Then, the graph Ghat will be equal to the graph G. Here is a full example showing the procedure of compression and decompression together:</p>
<div class="fragment"><div class="line">vector&lt;int&gt; a = {3,2,2,3}; <span class="comment">// degree sequence</span></div><div class="line"></div><div class="line"><a class="code" href="classgraph.html">graph</a> G({1,2,3},{3},{3},{}); <span class="comment">// defining the graph</span></div><div class="line"></div><div class="line"><a class="code" href="classgraph__encoder.html">graph_encoder</a> E(a); <span class="comment">// constructing the encoder object</span></div><div class="line">pair&lt;mpz_class, vector&lt;int&gt; &gt; f = E.encode(G);</div><div class="line"></div><div class="line"><a class="code" href="classgraph__decoder.html">graph_decoder</a> D(a);</div><div class="line"><a class="code" href="classgraph.html">graph</a> Ghat = D.decode(f.first, f.second);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (Ghat == G)</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot; we successfully reconstructed the graph! &quot;</span> &lt;&lt; endl;</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41aa2f322a170376a7904b008e9cdfe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41aa2f322a170376a7904b008e9cdfe0">&#9670;&nbsp;</a></span>graph_decoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">graph_decoder::graph_decoder </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>a_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructor given the degree sequence </p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a> = a_;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a> = <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>.size();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordtype">int</span> log2n = 0; <span class="comment">// log of n in base 2</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordtype">int</span> nn = <a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>; <span class="comment">// a copy of n</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">while</span> (nn&gt;0){</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    log2n ++;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    nn = nn &gt;&gt; 1; <span class="comment">// divide by 2</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  } <span class="comment">// eventually, we count the number of bits in n</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  log2n --; <span class="comment">// we count extra, e.g. when n = 1, we end up having 1, rather than 0</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">logn2</a> = log2n * log2n;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">init</a>(); <span class="comment">// init x, beta and U</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><div class="ttname"><a href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">graph_decoder::a</a></div><div class="ttdeci">vector&lt; int &gt; a</div><div class="ttdoc">the degree sequence of the graph. </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph__decoder_html_a97a9dcd5af21ece86fa91adcb41ca9cc"><div class="ttname"><a href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">graph_decoder::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">initializes x to be empty vector of size n, and U and beta by a </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:424</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:107</div></div>
<div class="ttc" id="classgraph__decoder_html_a59663482843ffa5059128bd6ed866f11"><div class="ttname"><a href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">graph_decoder::logn2</a></div><div class="ttdeci">int logn2</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:108</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3d2ef81ec6ac66e50c1809f361143922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d2ef81ec6ac66e50c1809f361143922">&#9670;&nbsp;</a></span>decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgraph.html">graph</a> graph_decoder::decode </td>
          <td>(</td>
          <td class="paramtype">mpz_class&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>tS_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>given \(\tilde{N}\) and a vector \(\tilde{S}\), decodes the graph and returns an object of type graph </p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">init</a>(); <span class="comment">// make x, U and beta ready for decoding </span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <a class="code" href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">tS</a> = tS_;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">//mpz_class prod_a_factorial = 1; // \prod_{i=1}^n a_i!</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">//for (int i=0; i&lt;a.size();i++)</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">//  prod_a_factorial *= compute_product(a[i], a[i], 1);</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  mpz_class prod_a_factorial = <a class="code" href="compression__helper_8cpp.html#a86d8a20e022dc06b23df3b08ac10b7d1">prod_factorial</a>(<a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>, 0,<a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>.size()-1); <span class="comment">// \prod_{i=0}^{n-1} a_i!</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  mpz_class tN = f * prod_a_factorial;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a>(0,<a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>-1,1,tN,0);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgraph.html">graph</a>(<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>, <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="ttc" id="compression__helper_8cpp_html_a86d8a20e022dc06b23df3b08ac10b7d1"><div class="ttname"><a href="compression__helper_8cpp.html#a86d8a20e022dc06b23df3b08ac10b7d1">prod_factorial</a></div><div class="ttdeci">mpz_class prod_factorial(const vector&lt; int &gt; &amp;a, int i, int j)</div><div class="ttdef"><b>Definition:</b> compression_helper.cpp:338</div></div>
<div class="ttc" id="classgraph__decoder_html_a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><div class="ttname"><a href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">graph_decoder::a</a></div><div class="ttdeci">vector&lt; int &gt; a</div><div class="ttdoc">the degree sequence of the graph. </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph__decoder_html_aa3f2776afe387668cf7f68109428e14e"><div class="ttname"><a href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">graph_decoder::x</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; x</div><div class="ttdoc">the forward adjacency list of the decoded graph </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:109</div></div>
<div class="ttc" id="classgraph__decoder_html_a97a9dcd5af21ece86fa91adcb41ca9cc"><div class="ttname"><a href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">graph_decoder::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">initializes x to be empty vector of size n, and U and beta by a </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:424</div></div>
<div class="ttc" id="classgraph__decoder_html_a2cb0bd279889a833d4c825e99eb72410"><div class="ttname"><a href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">graph_decoder::decode_interval</a></div><div class="ttdeci">pair&lt; mpz_class, mpz_class &gt; decode_interval(int i, int j, int I, mpz_class tN, int Sj)</div><div class="ttdoc">decodes the interval  with interval index . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:498</div></div>
<div class="ttc" id="classgraph__decoder_html_ac466636b9b21122f4fa0246aa624978c"><div class="ttname"><a href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">graph_decoder::tS</a></div><div class="ttdeci">vector&lt; int &gt; tS</div><div class="ttdoc">the  vector, which stores the partial sums for the midpoints of intervals with length more than ...</div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:112</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:107</div></div>
<div class="ttc" id="classgraph_html"><div class="ttname"><a href="classgraph.html">graph</a></div><div class="ttdoc">simple unmarked graph </div><div class="ttdef"><b>Definition:</b> simple_graph.h:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cb0bd279889a833d4c825e99eb72410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb0bd279889a833d4c825e99eb72410">&#9670;&nbsp;</a></span>decode_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; mpz_class, mpz_class &gt; graph_decoder::decode_interval </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpz_class&#160;</td>
          <td class="paramname"><em>tN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>decodes the interval \([i,j]\) with interval index \(I\). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i,j</td><td>intervals endpoints </td></tr>
    <tr><td class="paramname">I</td><td>the index of the interval </td></tr>
    <tr><td class="paramname">tN</td><td>\(\tilde{N}_{i,j}\) </td></tr>
    <tr><td class="paramname">Sj</td><td>\(S_{j+1}\) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair \(N_{i,j}, l_{i,j}\) where \(N_{i,j} = N_{i,j}(G)\) and \(l_{i,j} = l_{i,j}(G)\) </dd></dl>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decode interval &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; j &lt;&lt; &quot; tN &quot; &lt;&lt; tN &lt;&lt; endl;</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (i == j)</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classgraph__decoder.html#af3ff99a4de6035ad257ebd7c6519cdd8">decode_node</a>(i, tN);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// sweeping for zero nodes</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordtype">int</span> t; <span class="comment">// place to break</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordtype">int</span> St; <span class="comment">// S_{t+1}</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> ((j-i) &gt; <a class="code" href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">logn2</a>){</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">//cerr &lt;&lt; &quot; long interval I = &quot; &lt;&lt; I &lt;&lt; endl;</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    t = (i+j) / 2; <span class="comment">// break at middle, since we have \tilde{S}</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    St = <a class="code" href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">tS</a>[I]; <span class="comment">// looking at the \f$\tilde{S}\f$ vector</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">//cerr &lt;&lt; &quot; short interval &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    t = i;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    St = <a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">sum</a>(i) - 2 * <a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a>[i];</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decode interval &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; j &lt;&lt; &quot; t &quot; &lt;&lt; t &lt;&lt; &quot; St &quot; &lt;&lt; St &lt;&lt; &quot; Sj &quot; &lt;&lt; Sj &lt;&lt; endl;</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  mpz_class rtj; <span class="comment">// \f$t_{t+1, j}\f$</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  mpz_class tNit; <span class="comment">// \f$\tilde{N}_{i,t}\f$ for the left decoder</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  mpz_class tNtj; <span class="comment">// \f$\tilde{N}_{t+1, j}\f$ for the right decoder </span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  mpz_class Nit; <span class="comment">// the true N_{i,t} returned by the left decoder</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  mpz_class lit; <span class="comment">// the true l_{i,t} returned by the left decoder</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  mpz_class Ntj; <span class="comment">// the true N_{t+1, j} returned by the right decoder</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  mpz_class ltj; <span class="comment">// the true l_{t+1,j} returned by the right decoder</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  mpz_class Nij; <span class="comment">// the true N_{i,j} to return</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  mpz_class lij; <span class="comment">// the true l_{i,j} to return</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  pair&lt;mpz_class, mpz_class&gt; ans; <span class="comment">// returned by subintervals </span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  rtj = <a class="code" href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a>(St - 1, (St - Sj)/2, 2);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; interval &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; j &lt;&lt; &quot; t &quot; &lt;&lt; t &lt;&lt; &quot; St &quot; &lt;&lt; St &lt;&lt; &quot; rtj &quot; &lt;&lt; rtj &lt;&lt; endl;</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  tNit = tN / rtj;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// calling the left decoder </span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  ans = <a class="code" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a>(i,t,2*I,tNit, St); </div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  Nit = ans.first;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  lit = ans.second;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// reducing the contribution of the left decoder to prepare for the right decoder</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  tNtj = (tN - Nit * rtj) / lit;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// calling the right decoder</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  ans = <a class="code" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a>(t+1, j, 2*I + 1, tNtj, Sj);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  Ntj = ans.first;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  ltj = ans.second;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// preparing Nij and lij to return</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  Nij = Nit * rtj + lit * Ntj;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  lij = lit * ltj;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">return</span> pair&lt;mpz_class, mpz_class&gt; (Nij, lij);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_a2cb0bd279889a833d4c825e99eb72410"><div class="ttname"><a href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">graph_decoder::decode_interval</a></div><div class="ttdeci">pair&lt; mpz_class, mpz_class &gt; decode_interval(int i, int j, int I, mpz_class tN, int Sj)</div><div class="ttdoc">decodes the interval  with interval index . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:498</div></div>
<div class="ttc" id="classgraph__decoder_html_ac466636b9b21122f4fa0246aa624978c"><div class="ttname"><a href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">graph_decoder::tS</a></div><div class="ttdeci">vector&lt; int &gt; tS</div><div class="ttdoc">the  vector, which stores the partial sums for the midpoints of intervals with length more than ...</div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:112</div></div>
<div class="ttc" id="compression__helper_8cpp_html_ae2afb43aabe50f7d42aae8f82b5a35f4"><div class="ttname"><a href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a></div><div class="ttdeci">mpz_class compute_product(int N, int k, int s)</div><div class="ttdef"><b>Definition:</b> compression_helper.cpp:251</div></div>
<div class="ttc" id="classgraph__decoder_html_a59663482843ffa5059128bd6ed866f11"><div class="ttname"><a href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">graph_decoder::logn2</a></div><div class="ttdeci">int logn2</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:108</div></div>
<div class="ttc" id="classgraph__decoder_html_a2fa9fec2cef06aaa410e57fb59d5c1ad"><div class="ttname"><a href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">graph_decoder::U</a></div><div class="ttdeci">reverse_fenwick_tree U</div><div class="ttdoc">a Fenwick tree initialized with the degree sequence a, and after decoding vertex , for , we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:111</div></div>
<div class="ttc" id="classgraph__decoder_html_af3ff99a4de6035ad257ebd7c6519cdd8"><div class="ttname"><a href="classgraph__decoder.html#af3ff99a4de6035ad257ebd7c6519cdd8">graph_decoder::decode_node</a></div><div class="ttdeci">pair&lt; mpz_class, mpz_class &gt; decode_node(int i, mpz_class tN)</div><div class="ttdoc">decode the node i </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:446</div></div>
<div class="ttc" id="classgraph__decoder_html_aa57c11e4c09c52101682ff83286162f7"><div class="ttname"><a href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">graph_decoder::beta</a></div><div class="ttdeci">vector&lt; int &gt; beta</div><div class="ttdoc">the sequence , where after decoding vertex , for  we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:110</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html_a672731fd6395b4853430073a099a80e6"><div class="ttname"><a href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">reverse_fenwick_tree::sum</a></div><div class="ttdeci">int sum(int k)</div><div class="ttdef"><b>Definition:</b> fenwick.cpp:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3ff99a4de6035ad257ebd7c6519cdd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ff99a4de6035ad257ebd7c6519cdd8">&#9670;&nbsp;</a></span>decode_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; mpz_class, mpz_class &gt; graph_decoder::decode_node </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpz_class&#160;</td>
          <td class="paramname"><em>tN</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>decode the node i </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>the vertex index </td></tr>
    <tr><td class="paramname">tN</td><td>\(\tilde{N}_{i,i}\) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair \((N_{i,i}, l_i)\) where \(l_i = l_i(G)\) and \(N_{i,i} = N_{i,i}(G)\) </dd></dl>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decode node &quot; &lt;&lt; i &lt;&lt; &quot; tN &quot; &lt;&lt; tN &lt;&lt; endl;</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; beta[i] &quot; &lt;&lt; beta[i] &lt;&lt; endl;</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; beta &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">//for (int k = i; k&lt; n;k++)</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">//  cerr &lt;&lt; k &lt;&lt; &quot; &quot; &lt;&lt; beta[k] &lt;&lt; endl;</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; U &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">//for (int k=i;k&lt;n;k++)</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">//  cerr &lt;&lt; k &lt;&lt; &quot; &quot; &lt;&lt; U.sum(k) &lt;&lt; endl;</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a>[i] == 0)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> pair&lt;mpz_class, mpz_class&gt; (0,1);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  mpz_class li = 1; <span class="comment">// l_i(G)</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  mpz_class Ni = 0; <span class="comment">// N_{i,i}(G)</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordtype">int</span> f, g; <span class="comment">// endpoints for the binary search</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordtype">int</span> t; <span class="comment">// midpoint for the binary search</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  mpz_class zik, lik; </div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0;k&lt;<a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a>[i];k++){</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (k==0)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      f = i+1;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      f = <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k-1]+1;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    g = <a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>-1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">while</span>(g &gt; f){</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="comment">//cerr &lt;&lt; &quot; f , g &quot; &lt;&lt; f &lt;&lt; &quot; &quot; &lt;&lt; g &lt;&lt; endl;</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      t = (f+g)/2;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="comment">// binary search:</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a>(<a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">sum</a>(t+1), beta[i] - k, 1) &lt;= tN)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        g = t;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        f = t+1;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i].push_back(f);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    zik = <a class="code" href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a>(<a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">sum</a>(<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k]+1), beta[i] - k, 1);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    Ni += li * zik;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    lik = (beta[i] - k) * beta[<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k]];</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    li *= lik;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    tN -= zik;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    tN /= lik;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a942d7f49b37e53ebfec3076d177691d7">add</a>(<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k],-1);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    beta[<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k]] --;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decoded for &quot; &lt;&lt; i &lt;&lt; &quot; x: &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">//for (int j=0;j&lt;x[i].size(); j++)</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">//  cerr &lt;&lt; x[i][j] &lt;&lt; &quot; &quot; ;</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">//cerr &lt;&lt; endl;</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">return</span> pair&lt;mpz_class, mpz_class&gt; (Ni, li);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_aa3f2776afe387668cf7f68109428e14e"><div class="ttname"><a href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">graph_decoder::x</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; x</div><div class="ttdoc">the forward adjacency list of the decoded graph </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:109</div></div>
<div class="ttc" id="compression__helper_8cpp_html_ae2afb43aabe50f7d42aae8f82b5a35f4"><div class="ttname"><a href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a></div><div class="ttdeci">mpz_class compute_product(int N, int k, int s)</div><div class="ttdef"><b>Definition:</b> compression_helper.cpp:251</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:107</div></div>
<div class="ttc" id="classgraph__decoder_html_a2fa9fec2cef06aaa410e57fb59d5c1ad"><div class="ttname"><a href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">graph_decoder::U</a></div><div class="ttdeci">reverse_fenwick_tree U</div><div class="ttdoc">a Fenwick tree initialized with the degree sequence a, and after decoding vertex , for , we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:111</div></div>
<div class="ttc" id="classgraph__decoder_html_aa57c11e4c09c52101682ff83286162f7"><div class="ttname"><a href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">graph_decoder::beta</a></div><div class="ttdeci">vector&lt; int &gt; beta</div><div class="ttdoc">the sequence , where after decoding vertex , for  we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:110</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html_a942d7f49b37e53ebfec3076d177691d7"><div class="ttname"><a href="classreverse__fenwick__tree.html#a942d7f49b37e53ebfec3076d177691d7">reverse_fenwick_tree::add</a></div><div class="ttdeci">void add(int k, int val)</div><div class="ttdef"><b>Definition:</b> fenwick.cpp:52</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html_a672731fd6395b4853430073a099a80e6"><div class="ttname"><a href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">reverse_fenwick_tree::sum</a></div><div class="ttdeci">int sum(int k)</div><div class="ttdef"><b>Definition:</b> fenwick.cpp:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97a9dcd5af21ece86fa91adcb41ca9cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a9dcd5af21ece86fa91adcb41ca9cc">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void graph_decoder::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes x to be empty vector of size n, and U and beta by a </p>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>.clear();</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>.resize(<a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a> = <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a> = <a class="code" href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a>(<a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><div class="ttname"><a href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">graph_decoder::a</a></div><div class="ttdeci">vector&lt; int &gt; a</div><div class="ttdoc">the degree sequence of the graph. </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph__decoder_html_aa3f2776afe387668cf7f68109428e14e"><div class="ttname"><a href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">graph_decoder::x</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; x</div><div class="ttdoc">the forward adjacency list of the decoded graph </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:109</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:107</div></div>
<div class="ttc" id="classgraph__decoder_html_a2fa9fec2cef06aaa410e57fb59d5c1ad"><div class="ttname"><a href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">graph_decoder::U</a></div><div class="ttdeci">reverse_fenwick_tree U</div><div class="ttdoc">a Fenwick tree initialized with the degree sequence a, and after decoding vertex , for , we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:111</div></div>
<div class="ttc" id="classgraph__decoder_html_aa57c11e4c09c52101682ff83286162f7"><div class="ttname"><a href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">graph_decoder::beta</a></div><div class="ttdeci">vector&lt; int &gt; beta</div><div class="ttdoc">the sequence , where after decoding vertex , for  we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:110</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html"><div class="ttname"><a href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a></div><div class="ttdoc">similar to the fenwick_tree class, but instead of prefix sums, this class computes suffix sums...</div><div class="ttdef"><b>Definition:</b> fenwick.h:54</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">&#9670;&nbsp;</a></span>a</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; graph_decoder::a</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the degree sequence of the graph. </p>

</div>
</div>
<a id="aa57c11e4c09c52101682ff83286162f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57c11e4c09c52101682ff83286162f7">&#9670;&nbsp;</a></span>beta</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; graph_decoder::beta</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the sequence \(\vec{\beta}\), where after decoding vertex \(i\), for \(i \leq v\leq n\) we have \(\beta_v = d_v(i)\). </p>

</div>
</div>
<a id="a59663482843ffa5059128bd6ed866f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59663482843ffa5059128bd6ed866f11">&#9670;&nbsp;</a></span>logn2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int graph_decoder::logn2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\(\lfloor \log_2 n \rfloor^2\) </p>

</div>
</div>
<a id="a6bc1e72b2f7a913d14b789a6c2d92c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc1e72b2f7a913d14b789a6c2d92c1e">&#9670;&nbsp;</a></span>n</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int graph_decoder::n</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the number of vertices, which is a.size() </p>

</div>
</div>
<a id="ac466636b9b21122f4fa0246aa624978c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac466636b9b21122f4fa0246aa624978c">&#9670;&nbsp;</a></span>tS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; graph_decoder::tS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the \(\tilde{S}\) vector, which stores the partial sums for the midpoints of intervals with length more than \(\log^2 n\). </p>

</div>
</div>
<a id="a2fa9fec2cef06aaa410e57fb59d5c1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa9fec2cef06aaa410e57fb59d5c1ad">&#9670;&nbsp;</a></span>U</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a> graph_decoder::U</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>a Fenwick tree initialized with the degree sequence a, and after decoding vertex \(i\), for \(i \leq v\), we have \(U_v = \sum_{k=v}^{n-1} d_k(i)\). </p>

</div>
</div>
<a id="aa3f2776afe387668cf7f68109428e14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f2776afe387668cf7f68109428e14e">&#9670;&nbsp;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector&lt;int&gt; &gt; graph_decoder::x</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the forward adjacency list of the decoded graph </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="simple__graph__compression_8h_source.html">simple_graph_compression.h</a></li>
<li><a class="el" href="simple__graph__compression_8cpp.html">simple_graph_compression.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
