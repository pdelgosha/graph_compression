<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Marked Graph Compression: graph_decoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Marked Graph Compression
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgraph__decoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">graph_decoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Decodes a simple unmarked graph.  
 <a href="classgraph__decoder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="simple__graph__compression_8h_source.html">simple_graph_compression.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41aa2f322a170376a7904b008e9cdfe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a41aa2f322a170376a7904b008e9cdfe0">graph_decoder</a> (vector&lt; int &gt; a_)</td></tr>
<tr class="memdesc:a41aa2f322a170376a7904b008e9cdfe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor given the degree sequence  <a href="#a41aa2f322a170376a7904b008e9cdfe0">More...</a><br /></td></tr>
<tr class="separator:a41aa2f322a170376a7904b008e9cdfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a9dcd5af21ece86fa91adcb41ca9cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">init</a> ()</td></tr>
<tr class="memdesc:a97a9dcd5af21ece86fa91adcb41ca9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes x to be empty vector of size n, and U and beta by a  <a href="#a97a9dcd5af21ece86fa91adcb41ca9cc">More...</a><br /></td></tr>
<tr class="separator:a97a9dcd5af21ece86fa91adcb41ca9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d2ef81ec6ac66e50c1809f361143922"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgraph.html">graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a3d2ef81ec6ac66e50c1809f361143922">decode</a> (mpz_class f, vector&lt; int &gt; tS_)</td></tr>
<tr class="memdesc:a3d2ef81ec6ac66e50c1809f361143922"><td class="mdescLeft">&#160;</td><td class="mdescRight">given \(\tilde{N}\) and a vector \(\tilde{S}\), decodes the graph and returns an object of type graph  <a href="#a3d2ef81ec6ac66e50c1809f361143922">More...</a><br /></td></tr>
<tr class="separator:a3d2ef81ec6ac66e50c1809f361143922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ff99a4de6035ad257ebd7c6519cdd8"><td class="memItemLeft" align="right" valign="top">pair&lt; mpz_class, mpz_class &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#af3ff99a4de6035ad257ebd7c6519cdd8">decode_node</a> (int i, mpz_class tN)</td></tr>
<tr class="memdesc:af3ff99a4de6035ad257ebd7c6519cdd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">decode the node i  <a href="#af3ff99a4de6035ad257ebd7c6519cdd8">More...</a><br /></td></tr>
<tr class="separator:af3ff99a4de6035ad257ebd7c6519cdd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb0bd279889a833d4c825e99eb72410"><td class="memItemLeft" align="right" valign="top">pair&lt; mpz_class, mpz_class &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a> (int i, int j, int I, mpz_class tN, int Sj)</td></tr>
<tr class="memdesc:a2cb0bd279889a833d4c825e99eb72410"><td class="mdescLeft">&#160;</td><td class="mdescRight">decodes the interval \([i,j]\) with interval index \(I\).  <a href="#a2cb0bd279889a833d4c825e99eb72410">More...</a><br /></td></tr>
<tr class="separator:a2cb0bd279889a833d4c825e99eb72410"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a></td></tr>
<tr class="memdesc:a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">the degree sequence of the graph.  <a href="#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">More...</a><br /></td></tr>
<tr class="separator:a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc1e72b2f7a913d14b789a6c2d92c1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a></td></tr>
<tr class="memdesc:a6bc1e72b2f7a913d14b789a6c2d92c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of vertices, which is a.size()  <a href="#a6bc1e72b2f7a913d14b789a6c2d92c1e">More...</a><br /></td></tr>
<tr class="separator:a6bc1e72b2f7a913d14b789a6c2d92c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59663482843ffa5059128bd6ed866f11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">logn2</a></td></tr>
<tr class="memdesc:a59663482843ffa5059128bd6ed866f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">\(\lfloor \log_2 n \rfloor^2\)  <a href="#a59663482843ffa5059128bd6ed866f11">More...</a><br /></td></tr>
<tr class="separator:a59663482843ffa5059128bd6ed866f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f2776afe387668cf7f68109428e14e"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a></td></tr>
<tr class="memdesc:aa3f2776afe387668cf7f68109428e14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the forward adjacency list of the decoded graph  <a href="#aa3f2776afe387668cf7f68109428e14e">More...</a><br /></td></tr>
<tr class="separator:aa3f2776afe387668cf7f68109428e14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57c11e4c09c52101682ff83286162f7"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a></td></tr>
<tr class="memdesc:aa57c11e4c09c52101682ff83286162f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">the sequence \(\vec{\beta}\), where after decoding vertex \(i\), for \(i \leq v\leq n\) we have \(\beta_v = d_v(i)\).  <a href="#aa57c11e4c09c52101682ff83286162f7">More...</a><br /></td></tr>
<tr class="separator:aa57c11e4c09c52101682ff83286162f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa9fec2cef06aaa410e57fb59d5c1ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a></td></tr>
<tr class="memdesc:a2fa9fec2cef06aaa410e57fb59d5c1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">a Fenwick tree initialized with the degree sequence a, and after decoding vertex \(i\), for \(i \leq v\), we have \(U_v = \sum_{k=v}^{n-1} d_k(i)\).  <a href="#a2fa9fec2cef06aaa410e57fb59d5c1ad">More...</a><br /></td></tr>
<tr class="separator:a2fa9fec2cef06aaa410e57fb59d5c1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac466636b9b21122f4fa0246aa624978c"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">tS</a></td></tr>
<tr class="memdesc:ac466636b9b21122f4fa0246aa624978c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the \(\tilde{S}\) vector, which stores the partial sums for the midpoints of intervals with length more than \(\log^2 n\).  <a href="#ac466636b9b21122f4fa0246aa624978c">More...</a><br /></td></tr>
<tr class="separator:ac466636b9b21122f4fa0246aa624978c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decodes a simple unmarked graph. </p>
<p>Decodes a simple graph given its encoded version. We assume that the decoder knows the degree sequences of the encoded graph, hence these sequences must be given when a decoder object is being constructed. For instance, borrowing the degree sequence of the example we used to explain the <a class="el" href="classgraph__encoder.html" title="Encodes a simple unmarked graph. ">graph_encoder</a> class:</p>
<div class="fragment"><div class="line">vector&lt;int&gt; <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a> = {3,2,2,3};</div><div class="line"><a class="code" href="classb__graph__decoder.html">b_graph_decoder</a> D(a);</div></div><!-- fragment --><p>Then, if variable f of type <code>pair&lt;mpz_class, vector&lt;int&gt; &gt;</code> is obtained from a <a class="el" href="classgraph__encoder.html" title="Encodes a simple unmarked graph. ">graph_encoder</a> class, we can reconstruct the graph using f:</p>
<div class="fragment"><div class="line"><a class="code" href="classgraph.html">graph</a> Ghat = D.decode(f.first, f.second);</div></div><!-- fragment --><p>Then, the graph Ghat will be equal to the graph G. Here is a full example showing the procedure of compression and decompression together:</p>
<div class="fragment"><div class="line">vector&lt;int&gt; a = {3,2,2,3}; <span class="comment">// degree sequence</span></div><div class="line"></div><div class="line"><a class="code" href="classgraph.html">graph</a> G({1,2,3},{3},{3},{}); <span class="comment">// defining the graph</span></div><div class="line"></div><div class="line"><a class="code" href="classgraph__encoder.html">graph_encoder</a> E(a); <span class="comment">// constructing the encoder object</span></div><div class="line">pair&lt;mpz_class, vector&lt;int&gt; &gt; f = E.encode(G);</div><div class="line"></div><div class="line"><a class="code" href="classgraph__decoder.html">graph_decoder</a> D(a);</div><div class="line"><a class="code" href="classgraph.html">graph</a> Ghat = D.decode(f.first, f.second);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (Ghat == G)</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot; we successfully reconstructed the graph! &quot;</span> &lt;&lt; endl;</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41aa2f322a170376a7904b008e9cdfe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41aa2f322a170376a7904b008e9cdfe0">&#9670;&nbsp;</a></span>graph_decoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">graph_decoder::graph_decoder </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>a_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructor given the degree sequence </p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a> = a_;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a> = <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>.size();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordtype">int</span> log2n = 0; <span class="comment">// log of n in base 2</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">int</span> nn = <a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>; <span class="comment">// a copy of n</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">while</span> (nn&gt;0){</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    log2n ++;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    nn = nn &gt;&gt; 1; <span class="comment">// divide by 2</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  } <span class="comment">// eventually, we count the number of bits in n</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  log2n --; <span class="comment">// we count extra, e.g. when n = 1, we end up having 1, rather than 0</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">logn2</a> = log2n * log2n;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">init</a>(); <span class="comment">// init x, beta and U</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><div class="ttname"><a href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">graph_decoder::a</a></div><div class="ttdeci">vector&lt; int &gt; a</div><div class="ttdoc">the degree sequence of the graph. </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:105</div></div>
<div class="ttc" id="classgraph__decoder_html_a97a9dcd5af21ece86fa91adcb41ca9cc"><div class="ttname"><a href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">graph_decoder::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">initializes x to be empty vector of size n, and U and beta by a </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:283</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph__decoder_html_a59663482843ffa5059128bd6ed866f11"><div class="ttname"><a href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">graph_decoder::logn2</a></div><div class="ttdeci">int logn2</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:107</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3d2ef81ec6ac66e50c1809f361143922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d2ef81ec6ac66e50c1809f361143922">&#9670;&nbsp;</a></span>decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgraph.html">graph</a> graph_decoder::decode </td>
          <td>(</td>
          <td class="paramtype">mpz_class&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>tS_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>given \(\tilde{N}\) and a vector \(\tilde{S}\), decodes the graph and returns an object of type graph </p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">init</a>(); <span class="comment">// make x, U and beta ready for decoding </span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">tS</a> = tS_;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">//mpz_class prod_a_factorial = 1; // \prod_{i=1}^n a_i!</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">//for (int i=0; i&lt;a.size();i++)</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">//  prod_a_factorial *= compute_product(a[i], a[i], 1);</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  mpz_class prod_a_factorial = <a class="code" href="compression__helper_8cpp.html#a86d8a20e022dc06b23df3b08ac10b7d1">prod_factorial</a>(<a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>, 0,<a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>.size()-1); <span class="comment">// \prod_{i=0}^{n-1} a_i!</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  mpz_class tN = f * prod_a_factorial;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a>(0,<a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>-1,1,tN,0);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgraph.html">graph</a>(<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>, <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="ttc" id="compression__helper_8cpp_html_a86d8a20e022dc06b23df3b08ac10b7d1"><div class="ttname"><a href="compression__helper_8cpp.html#a86d8a20e022dc06b23df3b08ac10b7d1">prod_factorial</a></div><div class="ttdeci">mpz_class prod_factorial(const vector&lt; int &gt; &amp;a, int i, int j)</div><div class="ttdoc">computes the product of factorials in a vector given a range </div><div class="ttdef"><b>Definition:</b> compression_helper.cpp:307</div></div>
<div class="ttc" id="classgraph__decoder_html_a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><div class="ttname"><a href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">graph_decoder::a</a></div><div class="ttdeci">vector&lt; int &gt; a</div><div class="ttdoc">the degree sequence of the graph. </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:105</div></div>
<div class="ttc" id="classgraph__decoder_html_aa3f2776afe387668cf7f68109428e14e"><div class="ttname"><a href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">graph_decoder::x</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; x</div><div class="ttdoc">the forward adjacency list of the decoded graph </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:108</div></div>
<div class="ttc" id="classgraph__decoder_html_a97a9dcd5af21ece86fa91adcb41ca9cc"><div class="ttname"><a href="classgraph__decoder.html#a97a9dcd5af21ece86fa91adcb41ca9cc">graph_decoder::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">initializes x to be empty vector of size n, and U and beta by a </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:283</div></div>
<div class="ttc" id="classgraph__decoder_html_a2cb0bd279889a833d4c825e99eb72410"><div class="ttname"><a href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">graph_decoder::decode_interval</a></div><div class="ttdeci">pair&lt; mpz_class, mpz_class &gt; decode_interval(int i, int j, int I, mpz_class tN, int Sj)</div><div class="ttdoc">decodes the interval  with interval index . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:357</div></div>
<div class="ttc" id="classgraph__decoder_html_ac466636b9b21122f4fa0246aa624978c"><div class="ttname"><a href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">graph_decoder::tS</a></div><div class="ttdeci">vector&lt; int &gt; tS</div><div class="ttdoc">the  vector, which stores the partial sums for the midpoints of intervals with length more than ...</div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:111</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph_html"><div class="ttname"><a href="classgraph.html">graph</a></div><div class="ttdoc">simple unmarked graph </div><div class="ttdef"><b>Definition:</b> simple_graph.h:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cb0bd279889a833d4c825e99eb72410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb0bd279889a833d4c825e99eb72410">&#9670;&nbsp;</a></span>decode_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; mpz_class, mpz_class &gt; graph_decoder::decode_interval </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpz_class&#160;</td>
          <td class="paramname"><em>tN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>decodes the interval \([i,j]\) with interval index \(I\). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i,j</td><td>intervals endpoints </td></tr>
    <tr><td class="paramname">I</td><td>the index of the interval </td></tr>
    <tr><td class="paramname">tN</td><td>\(\tilde{N}_{i,j}\) </td></tr>
    <tr><td class="paramname">Sj</td><td>\(S_{j+1}\) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair \(N_{i,j}, l_{i,j}\) where \(N_{i,j} = N_{i,j}(G)\) and \(l_{i,j} = l_{i,j}(G)\) </dd></dl>
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decode interval &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; j &lt;&lt; &quot; tN &quot; &lt;&lt; tN &lt;&lt; endl;</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (i == j)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classgraph__decoder.html#af3ff99a4de6035ad257ebd7c6519cdd8">decode_node</a>(i, tN);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// sweeping for zero nodes</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordtype">int</span> t; <span class="comment">// place to break</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordtype">int</span> St; <span class="comment">// S_{t+1}</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">if</span> ((j-i) &gt; <a class="code" href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">logn2</a>){</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">//cerr &lt;&lt; &quot; long interval I = &quot; &lt;&lt; I &lt;&lt; endl;</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    t = (i+j) / 2; <span class="comment">// break at middle, since we have \tilde{S}</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    St = <a class="code" href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">tS</a>[I]; <span class="comment">// looking at the \f$\tilde{S}\f$ vector</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//cerr &lt;&lt; &quot; short interval &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    t = i;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    St = <a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">sum</a>(i) - 2 * <a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a>[i];</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decode interval &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; j &lt;&lt; &quot; t &quot; &lt;&lt; t &lt;&lt; &quot; St &quot; &lt;&lt; St &lt;&lt; &quot; Sj &quot; &lt;&lt; Sj &lt;&lt; endl;</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  mpz_class rtj; <span class="comment">// \f$t_{t+1, j}\f$</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  mpz_class tNit; <span class="comment">// \f$\tilde{N}_{i,t}\f$ for the left decoder</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  mpz_class tNtj; <span class="comment">// \f$\tilde{N}_{t+1, j}\f$ for the right decoder </span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  mpz_class Nit; <span class="comment">// the true N_{i,t} returned by the left decoder</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  mpz_class lit; <span class="comment">// the true l_{i,t} returned by the left decoder</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  mpz_class Ntj; <span class="comment">// the true N_{t+1, j} returned by the right decoder</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  mpz_class ltj; <span class="comment">// the true l_{t+1,j} returned by the right decoder</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  mpz_class Nij; <span class="comment">// the true N_{i,j} to return</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  mpz_class lij; <span class="comment">// the true l_{i,j} to return</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  pair&lt;mpz_class, mpz_class&gt; ans; <span class="comment">// returned by subintervals </span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  rtj = <a class="code" href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a>(St - 1, (St - Sj)/2, 2);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; interval &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; j &lt;&lt; &quot; t &quot; &lt;&lt; t &lt;&lt; &quot; St &quot; &lt;&lt; St &lt;&lt; &quot; rtj &quot; &lt;&lt; rtj &lt;&lt; endl;</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  tNit = tN / rtj;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// calling the left decoder </span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  ans = <a class="code" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a>(i,t,2*I,tNit, St); </div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  Nit = ans.first;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  lit = ans.second;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// reducing the contribution of the left decoder to prepare for the right decoder</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  tNtj = (tN - Nit * rtj) / lit;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// calling the right decoder</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  ans = <a class="code" href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">decode_interval</a>(t+1, j, 2*I + 1, tNtj, Sj);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  Ntj = ans.first;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  ltj = ans.second;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// preparing Nij and lij to return</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  Nij = Nit * rtj + lit * Ntj;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  lij = lit * ltj;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> pair&lt;mpz_class, mpz_class&gt; (Nij, lij);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_a2cb0bd279889a833d4c825e99eb72410"><div class="ttname"><a href="classgraph__decoder.html#a2cb0bd279889a833d4c825e99eb72410">graph_decoder::decode_interval</a></div><div class="ttdeci">pair&lt; mpz_class, mpz_class &gt; decode_interval(int i, int j, int I, mpz_class tN, int Sj)</div><div class="ttdoc">decodes the interval  with interval index . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:357</div></div>
<div class="ttc" id="classgraph__decoder_html_ac466636b9b21122f4fa0246aa624978c"><div class="ttname"><a href="classgraph__decoder.html#ac466636b9b21122f4fa0246aa624978c">graph_decoder::tS</a></div><div class="ttdeci">vector&lt; int &gt; tS</div><div class="ttdoc">the  vector, which stores the partial sums for the midpoints of intervals with length more than ...</div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:111</div></div>
<div class="ttc" id="compression__helper_8cpp_html_ae2afb43aabe50f7d42aae8f82b5a35f4"><div class="ttname"><a href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a></div><div class="ttdeci">mpz_class compute_product(int N, int k, int s)</div><div class="ttdef"><b>Definition:</b> compression_helper.cpp:235</div></div>
<div class="ttc" id="classgraph__decoder_html_a59663482843ffa5059128bd6ed866f11"><div class="ttname"><a href="classgraph__decoder.html#a59663482843ffa5059128bd6ed866f11">graph_decoder::logn2</a></div><div class="ttdeci">int logn2</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:107</div></div>
<div class="ttc" id="classgraph__decoder_html_a2fa9fec2cef06aaa410e57fb59d5c1ad"><div class="ttname"><a href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">graph_decoder::U</a></div><div class="ttdeci">reverse_fenwick_tree U</div><div class="ttdoc">a Fenwick tree initialized with the degree sequence a, and after decoding vertex , for , we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:110</div></div>
<div class="ttc" id="classgraph__decoder_html_af3ff99a4de6035ad257ebd7c6519cdd8"><div class="ttname"><a href="classgraph__decoder.html#af3ff99a4de6035ad257ebd7c6519cdd8">graph_decoder::decode_node</a></div><div class="ttdeci">pair&lt; mpz_class, mpz_class &gt; decode_node(int i, mpz_class tN)</div><div class="ttdoc">decode the node i </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.cpp:305</div></div>
<div class="ttc" id="classgraph__decoder_html_aa57c11e4c09c52101682ff83286162f7"><div class="ttname"><a href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">graph_decoder::beta</a></div><div class="ttdeci">vector&lt; int &gt; beta</div><div class="ttdoc">the sequence , where after decoding vertex , for  we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:109</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html_a672731fd6395b4853430073a099a80e6"><div class="ttname"><a href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">reverse_fenwick_tree::sum</a></div><div class="ttdeci">int sum(int k)</div><div class="ttdef"><b>Definition:</b> fenwick.cpp:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3ff99a4de6035ad257ebd7c6519cdd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ff99a4de6035ad257ebd7c6519cdd8">&#9670;&nbsp;</a></span>decode_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; mpz_class, mpz_class &gt; graph_decoder::decode_node </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpz_class&#160;</td>
          <td class="paramname"><em>tN</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>decode the node i </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>the vertex index </td></tr>
    <tr><td class="paramname">tN</td><td>\(\tilde{N}_{i,i}\) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair \((N_{i,i}, l_i)\) where \(l_i = l_i(G)\) and \(N_{i,i} = N_{i,i}(G)\) </dd></dl>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decode node &quot; &lt;&lt; i &lt;&lt; &quot; tN &quot; &lt;&lt; tN &lt;&lt; endl;</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; beta[i] &quot; &lt;&lt; beta[i] &lt;&lt; endl;</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; beta &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">//for (int k = i; k&lt; n;k++)</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">//  cerr &lt;&lt; k &lt;&lt; &quot; &quot; &lt;&lt; beta[k] &lt;&lt; endl;</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; U &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">//for (int k=i;k&lt;n;k++)</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">//  cerr &lt;&lt; k &lt;&lt; &quot; &quot; &lt;&lt; U.sum(k) &lt;&lt; endl;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a>[i] == 0)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> pair&lt;mpz_class, mpz_class&gt; (0,1);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  mpz_class li = 1; <span class="comment">// l_i(G)</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  mpz_class Ni = 0; <span class="comment">// N_{i,i}(G)</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordtype">int</span> f, g; <span class="comment">// endpoints for the binary search</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordtype">int</span> t; <span class="comment">// midpoint for the binary search</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  mpz_class zik, lik; </div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0;k&lt;<a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a>[i];k++){</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (k==0)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      f = i+1;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      f = <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k-1]+1;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    g = <a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>-1;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">while</span>(g &gt; f){</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="comment">//cerr &lt;&lt; &quot; f , g &quot; &lt;&lt; f &lt;&lt; &quot; &quot; &lt;&lt; g &lt;&lt; endl;</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      t = (f+g)/2;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="comment">// binary search:</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a>(<a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">sum</a>(t+1), beta[i] - k, 1) &lt;= tN)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        g = t;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        f = t+1;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i].push_back(f);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    zik = <a class="code" href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a>(<a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">sum</a>(<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k]+1), beta[i] - k, 1);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    Ni += li * zik;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    lik = (beta[i] - k) * beta[<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k]];</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    li *= lik;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    tN -= zik;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    tN /= lik;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a>.<a class="code" href="classreverse__fenwick__tree.html#a942d7f49b37e53ebfec3076d177691d7">add</a>(<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k],-1);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    beta[<a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>[i][k]] --;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">//cerr &lt;&lt; &quot; decoded for &quot; &lt;&lt; i &lt;&lt; &quot; x: &quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">//for (int j=0;j&lt;x[i].size(); j++)</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">//  cerr &lt;&lt; x[i][j] &lt;&lt; &quot; &quot; ;</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">//cerr &lt;&lt; endl;</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">return</span> pair&lt;mpz_class, mpz_class&gt; (Ni, li);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_aa3f2776afe387668cf7f68109428e14e"><div class="ttname"><a href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">graph_decoder::x</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; x</div><div class="ttdoc">the forward adjacency list of the decoded graph </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:108</div></div>
<div class="ttc" id="compression__helper_8cpp_html_ae2afb43aabe50f7d42aae8f82b5a35f4"><div class="ttname"><a href="compression__helper_8cpp.html#ae2afb43aabe50f7d42aae8f82b5a35f4">compute_product</a></div><div class="ttdeci">mpz_class compute_product(int N, int k, int s)</div><div class="ttdef"><b>Definition:</b> compression_helper.cpp:235</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph__decoder_html_a2fa9fec2cef06aaa410e57fb59d5c1ad"><div class="ttname"><a href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">graph_decoder::U</a></div><div class="ttdeci">reverse_fenwick_tree U</div><div class="ttdoc">a Fenwick tree initialized with the degree sequence a, and after decoding vertex , for , we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:110</div></div>
<div class="ttc" id="classgraph__decoder_html_aa57c11e4c09c52101682ff83286162f7"><div class="ttname"><a href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">graph_decoder::beta</a></div><div class="ttdeci">vector&lt; int &gt; beta</div><div class="ttdoc">the sequence , where after decoding vertex , for  we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:109</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html_a942d7f49b37e53ebfec3076d177691d7"><div class="ttname"><a href="classreverse__fenwick__tree.html#a942d7f49b37e53ebfec3076d177691d7">reverse_fenwick_tree::add</a></div><div class="ttdeci">void add(int k, int val)</div><div class="ttdef"><b>Definition:</b> fenwick.cpp:52</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html_a672731fd6395b4853430073a099a80e6"><div class="ttname"><a href="classreverse__fenwick__tree.html#a672731fd6395b4853430073a099a80e6">reverse_fenwick_tree::sum</a></div><div class="ttdeci">int sum(int k)</div><div class="ttdef"><b>Definition:</b> fenwick.cpp:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97a9dcd5af21ece86fa91adcb41ca9cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a9dcd5af21ece86fa91adcb41ca9cc">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void graph_decoder::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes x to be empty vector of size n, and U and beta by a </p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>.clear();</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">x</a>.resize(<a class="code" href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">n</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">beta</a> = <a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">U</a> = <a class="code" href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a>(<a class="code" href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">a</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div><div class="ttc" id="classgraph__decoder_html_a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"><div class="ttname"><a href="classgraph__decoder.html#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">graph_decoder::a</a></div><div class="ttdeci">vector&lt; int &gt; a</div><div class="ttdoc">the degree sequence of the graph. </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:105</div></div>
<div class="ttc" id="classgraph__decoder_html_aa3f2776afe387668cf7f68109428e14e"><div class="ttname"><a href="classgraph__decoder.html#aa3f2776afe387668cf7f68109428e14e">graph_decoder::x</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; x</div><div class="ttdoc">the forward adjacency list of the decoded graph </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:108</div></div>
<div class="ttc" id="classgraph__decoder_html_a6bc1e72b2f7a913d14b789a6c2d92c1e"><div class="ttname"><a href="classgraph__decoder.html#a6bc1e72b2f7a913d14b789a6c2d92c1e">graph_decoder::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">the number of vertices, which is a.size() </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:106</div></div>
<div class="ttc" id="classgraph__decoder_html_a2fa9fec2cef06aaa410e57fb59d5c1ad"><div class="ttname"><a href="classgraph__decoder.html#a2fa9fec2cef06aaa410e57fb59d5c1ad">graph_decoder::U</a></div><div class="ttdeci">reverse_fenwick_tree U</div><div class="ttdoc">a Fenwick tree initialized with the degree sequence a, and after decoding vertex , for , we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:110</div></div>
<div class="ttc" id="classgraph__decoder_html_aa57c11e4c09c52101682ff83286162f7"><div class="ttname"><a href="classgraph__decoder.html#aa57c11e4c09c52101682ff83286162f7">graph_decoder::beta</a></div><div class="ttdeci">vector&lt; int &gt; beta</div><div class="ttdoc">the sequence , where after decoding vertex , for  we have . </div><div class="ttdef"><b>Definition:</b> simple_graph_compression.h:109</div></div>
<div class="ttc" id="classreverse__fenwick__tree_html"><div class="ttname"><a href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a></div><div class="ttdoc">similar to the fenwick_tree class, but instead of prefix sums, this class computes suffix sums...</div><div class="ttdef"><b>Definition:</b> fenwick.h:54</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd7c3c11b8a45a12cb7c3c2d2bfa2cc">&#9670;&nbsp;</a></span>a</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; graph_decoder::a</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the degree sequence of the graph. </p>

</div>
</div>
<a id="aa57c11e4c09c52101682ff83286162f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57c11e4c09c52101682ff83286162f7">&#9670;&nbsp;</a></span>beta</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; graph_decoder::beta</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the sequence \(\vec{\beta}\), where after decoding vertex \(i\), for \(i \leq v\leq n\) we have \(\beta_v = d_v(i)\). </p>

</div>
</div>
<a id="a59663482843ffa5059128bd6ed866f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59663482843ffa5059128bd6ed866f11">&#9670;&nbsp;</a></span>logn2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int graph_decoder::logn2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\(\lfloor \log_2 n \rfloor^2\) </p>

</div>
</div>
<a id="a6bc1e72b2f7a913d14b789a6c2d92c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc1e72b2f7a913d14b789a6c2d92c1e">&#9670;&nbsp;</a></span>n</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int graph_decoder::n</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the number of vertices, which is a.size() </p>

</div>
</div>
<a id="ac466636b9b21122f4fa0246aa624978c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac466636b9b21122f4fa0246aa624978c">&#9670;&nbsp;</a></span>tS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; graph_decoder::tS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the \(\tilde{S}\) vector, which stores the partial sums for the midpoints of intervals with length more than \(\log^2 n\). </p>

</div>
</div>
<a id="a2fa9fec2cef06aaa410e57fb59d5c1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa9fec2cef06aaa410e57fb59d5c1ad">&#9670;&nbsp;</a></span>U</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classreverse__fenwick__tree.html">reverse_fenwick_tree</a> graph_decoder::U</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>a Fenwick tree initialized with the degree sequence a, and after decoding vertex \(i\), for \(i \leq v\), we have \(U_v = \sum_{k=v}^{n-1} d_k(i)\). </p>

</div>
</div>
<a id="aa3f2776afe387668cf7f68109428e14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f2776afe387668cf7f68109428e14e">&#9670;&nbsp;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector&lt;int&gt; &gt; graph_decoder::x</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the forward adjacency list of the decoded graph </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="simple__graph__compression_8h_source.html">simple_graph_compression.h</a></li>
<li><a class="el" href="simple__graph__compression_8cpp.html">simple_graph_compression.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
