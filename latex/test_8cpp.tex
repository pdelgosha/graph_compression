\hypertarget{test_8cpp}{}\section{test.\+cpp File Reference}
\label{test_8cpp}\index{test.\+cpp@{test.\+cpp}}
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include \char`\"{}marked\+\_\+graph.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}graph\+\_\+message.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fenwick.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}simple\+\_\+graph.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}simple\+\_\+graph\+\_\+compression.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}bipartite\+\_\+graph.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}bipartite\+\_\+graph\+\_\+compression.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}time\+\_\+series\+\_\+compression.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}marked\+\_\+graph\+\_\+compression.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}random\+\_\+graph.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}logger.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
ostream \& \hyperlink{test_8cpp_af5223445b486d224879e0a71e1836ff0}{operator$<$$<$} (ostream \&o, const vector$<$ int $>$ \&v)
\item 
void \hyperlink{test_8cpp_aa276850b1d7d04eb917a6fc7415b9566}{b\+\_\+graph\+\_\+test} ()
\item 
void \hyperlink{test_8cpp_ad969b24bba27d812a385891fccbee281}{graph\+\_\+test} ()
\item 
void \hyperlink{test_8cpp_a0fc2dd31c77e9a6cccbe19cc179aa3d7}{time\+\_\+series\+\_\+compression\+\_\+test} ()
\item 
void \hyperlink{test_8cpp_af087647683f99aca0cfa687af0d88813}{marked\+\_\+graph\+\_\+encoder\+\_\+test} ()
\item 
void \hyperlink{test_8cpp_ade4fa14856f731f14986b8b0ae8e187d}{random\+\_\+graph\+\_\+test} ()
\item 
int \hyperlink{test_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{test_8cpp_aa276850b1d7d04eb917a6fc7415b9566}\label{test_8cpp_aa276850b1d7d04eb917a6fc7415b9566}} 
\index{test.\+cpp@{test.\+cpp}!b\+\_\+graph\+\_\+test@{b\+\_\+graph\+\_\+test}}
\index{b\+\_\+graph\+\_\+test@{b\+\_\+graph\+\_\+test}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{b\+\_\+graph\+\_\+test()}{b\_graph\_test()}}
{\footnotesize\ttfamily void b\+\_\+graph\+\_\+test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}
28                    \{
29   vector<int> a = \{1,1,2\}; \textcolor{comment}{// left degree sequence }
30   vector<int> b = \{2,2\}; \textcolor{comment}{// right degree sequence}
31 
32   \hyperlink{classb__graph}{b\_graph} G(\{\{0\},\{1\},\{0,1\}\}); \textcolor{comment}{// defining the graph}
33 
34   \hyperlink{classb__graph__encoder}{b\_graph\_encoder} E(a,b); \textcolor{comment}{// constructing the encoder object}
35   mpz\_class f = E.encode(G);
36 
37   \hyperlink{classb__graph__decoder}{b\_graph\_decoder} D(a, b);
38   \hyperlink{classb__graph}{b\_graph} Ghat = D.decode(f);
39 
40   \textcolor{keywordflow}{if} (Ghat == G)
41     cout << \textcolor{stringliteral}{" successfully decoded the graph! "} << endl;  
42 \}
\end{DoxyCode}
\mbox{\Hypertarget{test_8cpp_ad969b24bba27d812a385891fccbee281}\label{test_8cpp_ad969b24bba27d812a385891fccbee281}} 
\index{test.\+cpp@{test.\+cpp}!graph\+\_\+test@{graph\+\_\+test}}
\index{graph\+\_\+test@{graph\+\_\+test}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{graph\+\_\+test()}{graph\_test()}}
{\footnotesize\ttfamily void graph\+\_\+test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}
44                  \{
45   vector<int> a = \{3,2,2,3\};
46   vector<vector<int> > list = \{\{1,2,3\},\{3\},\{3\},\{\}\};
47 
48   \hyperlink{classgraph}{graph} G(list);
49 
50   \hyperlink{classgraph__encoder}{graph\_encoder} E(a);
51   pair<mpz\_class, vector<int> > f = E.encode(G);
52 
53   \hyperlink{classgraph__decoder}{graph\_decoder} D(a);
54   \hyperlink{classgraph}{graph} Ghat = D.decode(f.first, f.second);
55   Ghat = D.decode(f.first, f.second);
56 
57   \textcolor{keywordflow}{if} (Ghat == G)
58     cout << \textcolor{stringliteral}{" successfully decoded the graph! "} << endl;
59 \}
\end{DoxyCode}
\mbox{\Hypertarget{test_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{test_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{test.\+cpp@{test.\+cpp}!main@{main}}
\index{main@{main}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}
142           \{
143   cout << \hyperlink{compression__helper_8cpp_ae2afb43aabe50f7d42aae8f82b5a35f4}{compute\_product}(100,100,1) << endl;
144   cout << \hyperlink{compression__helper_8cpp_a4e5c8137a0b072800c7a8f0a80978468}{compute\_product\_old}(100,100,1) << endl;
145   \textcolor{comment}{//logger::start();}
146   \textcolor{comment}{//marked\_graph G;}
147   \textcolor{comment}{//ifstream inp("star\_graph.txt");}
148   \textcolor{comment}{//inp >> G;}
149   \textcolor{comment}{//graph\_message M(G, 10, 2);}
150   \textcolor{comment}{//M.update\_messages();}
151   \textcolor{comment}{//graph\_test();}
152   \textcolor{comment}{//time\_series\_compression\_test();}
153   \textcolor{comment}{//marked\_graph\_encoder\_test();}
154   \textcolor{comment}{//random\_graph\_test();}
155   \textcolor{comment}{//logger::stop();}
156   \textcolor{keywordflow}{return} 0;
157   \textcolor{comment}{// vector<vector<int> > list = \{\{\}, \{\}, \{\}\};}
158 
159   \textcolor{comment}{// b\_graph G(\{\{0\},\{1\},\{0,1\}\});}
160   \textcolor{comment}{// // cout << G << endl;}
161   \textcolor{comment}{// // cout << G.nu\_left\_vertices() << endl;}
162   \textcolor{comment}{// // cout << G.nu\_right\_vertices() << endl;}
163   \textcolor{comment}{// // cout << G.get\_left\_degree\_sequence() << endl;}
164   \textcolor{comment}{// // cout << G.get\_right\_degree\_sequence() << endl;}
165   \textcolor{comment}{// vector<int> a = G.get\_left\_degree\_sequence();}
166   \textcolor{comment}{// vector<int> b = G.get\_right\_degree\_sequence();}
167   
168 
169   \textcolor{comment}{// b\_graph\_encoder  E(a,b);}
170   \textcolor{comment}{// mpz\_class m = E.encode(G);}
171   \textcolor{comment}{// cout << "encoded: " << m << endl;}
172 
173   \textcolor{comment}{// b\_graph\_decoder D(a, b);}
174   \textcolor{comment}{// b\_graph Ghat = D.decode(m);}
175   \textcolor{comment}{// cout << "decoded graph: " << endl << Ghat << endl;}
176 
177   \textcolor{comment}{// if (Ghat == G)}
178   \textcolor{comment}{//   cout << " equal " << endl;}
179   \textcolor{comment}{// return 0;}
180 
181 \}
\end{DoxyCode}
\mbox{\Hypertarget{test_8cpp_af087647683f99aca0cfa687af0d88813}\label{test_8cpp_af087647683f99aca0cfa687af0d88813}} 
\index{test.\+cpp@{test.\+cpp}!marked\+\_\+graph\+\_\+encoder\+\_\+test@{marked\+\_\+graph\+\_\+encoder\+\_\+test}}
\index{marked\+\_\+graph\+\_\+encoder\+\_\+test@{marked\+\_\+graph\+\_\+encoder\+\_\+test}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{marked\+\_\+graph\+\_\+encoder\+\_\+test()}{marked\_graph\_encoder\_test()}}
{\footnotesize\ttfamily void marked\+\_\+graph\+\_\+encoder\+\_\+test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}
75 \{
76   \hyperlink{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}{logger::current\_depth}++;
77 
78   \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{logger::add\_entry}(\textcolor{stringliteral}{"Construct G"}, \textcolor{stringliteral}{""});
79   \hyperlink{classmarked__graph}{marked\_graph} G;
80   \textcolor{comment}{//ifstream inp("test\_graphs/ten\_node.txt"); //("test\_graphs/hexagon\_diagonal\_marked.txt");}
81   \textcolor{comment}{//ifstream inp("test\_graphs/problem\_4.txt");}
82   \textcolor{comment}{//inp >> G;}
83   \textcolor{comment}{//G = marked\_graph(5, \{\{\{0,1\}, \{0,0\}\}, \{\{1,2\}, \{0,0\}\}, \{\{0,3\},\{0,0\}\}\}, \{0,0,0,0,0\});}
84   \textcolor{comment}{//int h, delta;}
85   \textcolor{comment}{//cout << " h " << endl;}
86   \textcolor{comment}{//cin >> h;}
87   \textcolor{comment}{//cout << " delta " << endl;}
88   \textcolor{comment}{//cin >> delta; }
89   G = \hyperlink{random__graph_8cpp_a12c6d20574de900afa2186b61977b83d}{poisson\_graph}(100000,3, 10, 10);\textcolor{comment}{//}
90   \textcolor{comment}{//G = near\_regular\_graph(100000,3,1,1);}
91   \textcolor{comment}{//G = marked\_ER(100,0.05,1 ,1);}
92   cout << \textcolor{stringliteral}{" graph constructed "} << endl;
93   \textcolor{comment}{//cout << G << endl;}
94 
95   \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{logger::add\_entry}(\textcolor{stringliteral}{"Encode"},\textcolor{stringliteral}{""});
96 
97   \hyperlink{classmarked__graph__encoder}{marked\_graph\_encoder} E(3,20);
98   \textcolor{comment}{//marked\_graph\_encoder E(1,20);}
99   \hyperlink{classmarked__graph__compressed}{marked\_graph\_compressed} C = E.encode(G);
100   FILE* f;
101   \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{logger::add\_entry}(\textcolor{stringliteral}{"write to binary file"}, \textcolor{stringliteral}{""});
102   f = fopen(\textcolor{stringliteral}{"test.dat"}, \textcolor{stringliteral}{"wb+"});
103   C.\hyperlink{classmarked__graph__compressed_ab9cdb7fc43badd58fb5202f74ffac723}{binary\_write}(f);
104   fclose(f);
105   \textcolor{comment}{//cerr << " graph encoded " << endl;}
106 
107   FILE* g;
108   g = fopen(\textcolor{stringliteral}{"test.dat"}, \textcolor{stringliteral}{"rb+"});
109   \hyperlink{classmarked__graph__compressed}{marked\_graph\_compressed} Chat;
110   \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{logger::add\_entry}(\textcolor{stringliteral}{"read from binary file"}, \textcolor{stringliteral}{""});
111   Chat.\hyperlink{classmarked__graph__compressed_a9db2d11bd63ad3d5a75e47b4023a89dd}{binary\_read}(g);
112   fclose(g);
113 
114   \textcolor{keywordflow}{if} (Chat.\hyperlink{classmarked__graph__compressed_a7df5779d313486644132bd816937f532}{star\_edges} != C.\hyperlink{classmarked__graph__compressed_a7df5779d313486644132bd816937f532}{star\_edges})
115     cerr << \textcolor{stringliteral}{" star edges do not match "} << endl;
116 
117   \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{logger::add\_entry}(\textcolor{stringliteral}{"Decode"}, \textcolor{stringliteral}{""});
118   \hyperlink{classmarked__graph__decoder}{marked\_graph\_decoder} D; 
119   \hyperlink{classmarked__graph}{marked\_graph} Ghat = D.\hyperlink{classmarked__graph__decoder_a31bbd76091acf5b058fd0a7b7948f74c}{decode}(Chat);
120 
121   \textcolor{comment}{//cout << " Ghat " << endl;}
122   \textcolor{comment}{//cout << Ghat << endl;}
123 
124   \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{logger::add\_entry}(\textcolor{stringliteral}{"compare"}, \textcolor{stringliteral}{""});
125   \textcolor{keywordflow}{if} (Ghat == G)
126     cout << \textcolor{stringliteral}{" successfully decoded the marked graph :D "} << endl;
127   \textcolor{keywordflow}{else}
128     cout << \textcolor{stringliteral}{" they do not match :("} << endl;
129 
130   \hyperlink{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}{logger::current\_depth}--;
131   \textcolor{comment}{//cout << " G " << endl;}
132   \textcolor{comment}{//cout << G << endl;}
133   \textcolor{comment}{//cout << " Ghat " << endl;}
134   \textcolor{comment}{//cout << Ghat << endl;}
135 \}
\end{DoxyCode}
\mbox{\Hypertarget{test_8cpp_af5223445b486d224879e0a71e1836ff0}\label{test_8cpp_af5223445b486d224879e0a71e1836ff0}} 
\index{test.\+cpp@{test.\+cpp}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}}
{\footnotesize\ttfamily ostream\& operator$<$$<$ (\begin{DoxyParamCaption}\item[{ostream \&}]{o,  }\item[{const vector$<$ int $>$ \&}]{v }\end{DoxyParamCaption})}


\begin{DoxyCode}
19                                                        \{
20   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<v.size();i++)\{
21     o << v[i];
22     \textcolor{keywordflow}{if} (i < v.size()-1)
23       o << \textcolor{stringliteral}{", "};
24   \}
25   \textcolor{keywordflow}{return} o;
26 \}
\end{DoxyCode}
\mbox{\Hypertarget{test_8cpp_ade4fa14856f731f14986b8b0ae8e187d}\label{test_8cpp_ade4fa14856f731f14986b8b0ae8e187d}} 
\index{test.\+cpp@{test.\+cpp}!random\+\_\+graph\+\_\+test@{random\+\_\+graph\+\_\+test}}
\index{random\+\_\+graph\+\_\+test@{random\+\_\+graph\+\_\+test}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{random\+\_\+graph\+\_\+test()}{random\_graph\_test()}}
{\footnotesize\ttfamily void random\+\_\+graph\+\_\+test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}
138 \{
139   \hyperlink{classmarked__graph}{marked\_graph} G = \hyperlink{random__graph_8cpp_a643ca20d84dd6981854da9b1a8c7a6c5}{marked\_ER}(100,1,3,4);
140   \textcolor{comment}{//cout << G << endl;}
141 \}
\end{DoxyCode}
\mbox{\Hypertarget{test_8cpp_a0fc2dd31c77e9a6cccbe19cc179aa3d7}\label{test_8cpp_a0fc2dd31c77e9a6cccbe19cc179aa3d7}} 
\index{test.\+cpp@{test.\+cpp}!time\+\_\+series\+\_\+compression\+\_\+test@{time\+\_\+series\+\_\+compression\+\_\+test}}
\index{time\+\_\+series\+\_\+compression\+\_\+test@{time\+\_\+series\+\_\+compression\+\_\+test}!test.\+cpp@{test.\+cpp}}
\subsubsection{\texorpdfstring{time\+\_\+series\+\_\+compression\+\_\+test()}{time\_series\_compression\_test()}}
{\footnotesize\ttfamily void time\+\_\+series\+\_\+compression\+\_\+test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}
62 \{
63   vector<int> a = \{0,2,3,1,2,1,0,1,0,2,1,0,0,2,1,3,4,5,0\};
64   \textcolor{keywordtype}{int} n = a.size();
65   \hyperlink{classtime__series__encoder}{time\_series\_encoder} E(n);
66   pair<vector<int>, mpz\_class > ans = E.encode(a);
67 
68   \hyperlink{classtime__series__decoder}{time\_series\_decoder} D(n);
69   vector<int> ahat = D.decode(ans);
70   \textcolor{keywordflow}{if} (ahat == a)
71     cout << \textcolor{stringliteral}{" successfully decoded the original time series! "} << endl;
72 \}
\end{DoxyCode}
