\hypertarget{classlogger}{}\section{logger Class Reference}
\label{classlogger}\index{logger@{logger}}


{\ttfamily \#include $<$logger.\+h$>$}

\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classlogger_a710163deb17bc81f70d53d285b8ac9ac}{add\+\_\+entry} (string name, string description)
\item 
static void \hyperlink{classlogger_afba86118a3bb044060be8309b3fa755a}{start} ()
\item 
static void \hyperlink{classlogger_abb856642f4e62c7a4a11cc4a2d963010}{stop} ()
\item 
static void \hyperlink{classlogger_ab518e6d927694bb7329e933fa75c27bf}{log} ()
\item 
static void \hyperlink{classlogger_a7e21ec6ad2d40cfc2c6a383521b5641a}{item\+\_\+start} (string name)
\item 
static void \hyperlink{classlogger_a6775fee9681c437fc9c05d71cfbbe4a2}{item\+\_\+stop} (string name)
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{classlogger_aab3c778c044ddf4b1b5fad8f4c230ff9}{verbose} = true
\begin{DoxyCompactList}\small\item\em if true, every entry is printed at the time of its report, default is false \end{DoxyCompactList}\item 
static bool \hyperlink{classlogger_a26812b5ba03f130e8dae3446d5fc032f}{stat} = false
\begin{DoxyCompactList}\small\item\em if true, statistics will be displayed, e.\+g. number of star vertices / edges or the number of partition graphs etc \end{DoxyCompactList}\item 
static ostream $\ast$ \hyperlink{classlogger_ae8d04646d8d5244120781025a4d8540b}{verbose\+\_\+stream} = \&cout
\begin{DoxyCompactList}\small\item\em the stream for printing entries at the time of arrival, default is cout \end{DoxyCompactList}\item 
static bool \hyperlink{classlogger_adbcc380b0ef53e23125f91e1c8f13f4e}{report} = true
\begin{DoxyCompactList}\small\item\em if true, at the end of the program, a hierarchical report is printed \end{DoxyCompactList}\item 
static ostream $\ast$ \hyperlink{classlogger_a8e3da449edb99f9ecc59858c0e75beca}{report\+\_\+stream} = \&cout
\begin{DoxyCompactList}\small\item\em the stream to report the final report. Default is cout \end{DoxyCompactList}\item 
static ostream $\ast$ \hyperlink{classlogger_a7db37821f875f2ba3540980b355779f5}{stat\+\_\+stream} = \&cout
\begin{DoxyCompactList}\small\item\em the stream to report the statistics. Default is cout \end{DoxyCompactList}\item 
static vector$<$ \hyperlink{classlog__entry}{log\+\_\+entry} $>$ \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}
\item 
static int \hyperlink{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}{current\+\_\+depth} = 1
\item 
static map$<$ string, float $>$ \hyperlink{classlogger_a8097637b66086185096030c96a1189ba}{item\+\_\+duration}
\item 
static map$<$ string, high\+\_\+resolution\+\_\+clock\+::time\+\_\+point $>$ \hyperlink{classlogger_af21bf7ca37e55cf225b282ab2f312c95}{item\+\_\+last\+\_\+start}
\begin{DoxyCompactList}\small\item\em the last time each item was started \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlogger_a710163deb17bc81f70d53d285b8ac9ac}\label{classlogger_a710163deb17bc81f70d53d285b8ac9ac}} 
\index{logger@{logger}!add\+\_\+entry@{add\+\_\+entry}}
\index{add\+\_\+entry@{add\+\_\+entry}!logger@{logger}}
\subsubsection{\texorpdfstring{add\+\_\+entry()}{add\_entry()}}
{\footnotesize\ttfamily void logger\+::add\+\_\+entry (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{string}]{description }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}
26 \{
27   \textcolor{comment}{//cerr << " adding entry current\_depth " << current\_depth << endl;}
28   \hyperlink{classlog__entry}{log\_entry} new\_entry(name, description, \hyperlink{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}{current\_depth});
29   \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logger::logs}.push\_back(new\_entry);
30   \textcolor{keywordflow}{if} (\hyperlink{classlogger_aab3c778c044ddf4b1b5fad8f4c230ff9}{logger::verbose})\{
31     \textcolor{keywordtype}{string} s = \textcolor{stringliteral}{""};
32     time\_t tt = system\_clock::to\_time\_t(new\_entry.sys\_t);
33     \textcolor{keywordtype}{char} buffer[80];
34     strftime(buffer, 80, \textcolor{stringliteral}{"%F %r"}, localtime(&tt));
35     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1;i<(\hyperlink{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}{current\_depth}-1);i++)
36       s += \textcolor{stringliteral}{"|---"};
37     \textcolor{keywordtype}{string} buffer\_str(buffer);
38     s +=  name + \textcolor{stringliteral}{" ("} + description + \textcolor{stringliteral}{") "};
39     s += buffer\_str;
40     *\hyperlink{classlogger_ae8d04646d8d5244120781025a4d8540b}{verbose\_stream} << s << endl;
41   \}
42 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlogger_a7e21ec6ad2d40cfc2c6a383521b5641a}\label{classlogger_a7e21ec6ad2d40cfc2c6a383521b5641a}} 
\index{logger@{logger}!item\+\_\+start@{item\+\_\+start}}
\index{item\+\_\+start@{item\+\_\+start}!logger@{logger}}
\subsubsection{\texorpdfstring{item\+\_\+start()}{item\_start()}}
{\footnotesize\ttfamily void logger\+::item\+\_\+start (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}
128                                   \{
129   \hyperlink{classlogger_af21bf7ca37e55cf225b282ab2f312c95}{item\_last\_start}[name] = high\_resolution\_clock::now();
130 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlogger_a6775fee9681c437fc9c05d71cfbbe4a2}\label{classlogger_a6775fee9681c437fc9c05d71cfbbe4a2}} 
\index{logger@{logger}!item\+\_\+stop@{item\+\_\+stop}}
\index{item\+\_\+stop@{item\+\_\+stop}!logger@{logger}}
\subsubsection{\texorpdfstring{item\+\_\+stop()}{item\_stop()}}
{\footnotesize\ttfamily void logger\+::item\+\_\+stop (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}
132                                  \{
133   high\_resolution\_clock::time\_point t = high\_resolution\_clock::now();
134   duration<float> diff = t - \hyperlink{classlogger_af21bf7ca37e55cf225b282ab2f312c95}{item\_last\_start}[name];
135   \hyperlink{classlogger_a8097637b66086185096030c96a1189ba}{item\_duration}[name] += diff.count();
136 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlogger_ab518e6d927694bb7329e933fa75c27bf}\label{classlogger_ab518e6d927694bb7329e933fa75c27bf}} 
\index{logger@{logger}!log@{log}}
\index{log@{log}!logger@{logger}}
\subsubsection{\texorpdfstring{log()}{log()}}
{\footnotesize\ttfamily void logger\+::log (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}
45                 \{
46   \textcolor{comment}{//cerr << " log started " << endl;}
47   \textcolor{keywordtype}{int} max\_depth = 0;
48   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size(); i++)\{
49     \textcolor{keywordflow}{if} (\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].depth > max\_depth)
50       max\_depth = \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].depth;
51   \}
52 
53   vector<int> parent(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()); \textcolor{comment}{// for a log L, parent[L] is the max index i < L such that depth[i]
       < depth[L], this shows in what block we are in}
54   vector<int> next(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()); \textcolor{comment}{// for a log L, next[L] is the min index i > L such that depth[i] >=
       depth[L], this is the index right after L in its block, or if L is the last entry in its block, it is the
       start of the next block. The diff between L and next[L] shows the duration of running L}
55   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1;i<(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()-1);i++)\{
56     \textcolor{comment}{// finding parent[i]}
57     \textcolor{comment}{//cerr << " finding parent " << i << endl;}
58     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=(i-1); j>=0 ;j--)\{
59       \textcolor{keywordflow}{if} (\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[j].depth < \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].depth)\{
60         parent[i] = j;
61         \textcolor{keywordflow}{break};
62       \}
63     \}
64     \textcolor{comment}{//cerr << " parent[" << i << "] = " << parent[i] << endl;}
65     \textcolor{comment}{//cerr << " finding next " << i << endl;}
66     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=(i+1); j<\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size();j++)\{
67       \textcolor{keywordflow}{if} (\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[j].depth <= \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].depth)\{
68         next[i] = j;
69         \textcolor{keywordflow}{break};
70       \}
71     \}
72     \textcolor{comment}{//cerr << " next[" << i << "] = " << next[i] << endl;}
73   \}
74   next[0] = \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()-1; \textcolor{comment}{// next of start entry is the finish entry}
75 
76   vector<float> dur(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()); \textcolor{comment}{// dur[L] is the duration that entry L takes, meaning the difference
       between L and next[L]}
77   vector<float> block\_dur(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()); \textcolor{comment}{// the duration of the whole block for each entry, which is the
       difference between}
78   vector<float> block\_percent(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()); \textcolor{comment}{// the percentage of time each entry takes inside a block}
79   duration<float> diff;
80   \textcolor{keywordtype}{string} s;
81   \textcolor{comment}{//cerr << " logs.size() " << logs.size() << endl;}
82   *\hyperlink{classlogger_a8e3da449edb99f9ecc59858c0e75beca}{report\_stream} << endl;
83   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1;i<(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.size()-1); i++)\{
84     \textcolor{comment}{//cerr << " i " << i << endl;}
85     \textcolor{comment}{// finding duration[i]}
86     diff = \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[next[i]].t - \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].t;
87     dur[i] = diff.count();
88     \textcolor{comment}{//cerr << " dur[i] " << dur[i] << endl;}
89     \textcolor{comment}{// finding block\_duration }
90     diff = \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[next[parent[i]]].t - \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[parent[i]].t;
91     block\_dur[i] = diff.count();
92     \textcolor{comment}{//cerr << " block\_dur[i] " << block\_dur[i] << endl;}
93     block\_percent[i] = dur[i] / block\_dur[i] * 100;
94     \textcolor{comment}{//cerr << " block\_percent[i] " << block\_percent[i] << endl;}
95     s = \textcolor{stringliteral}{""};
96     \textcolor{comment}{//cerr << " logs[i].depth " << logs[i].depth << endl;}
97     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=1;j<(\hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].depth-1); j++)
98       s += \textcolor{stringliteral}{"|---"};
99     s +=  \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].name + \textcolor{stringliteral}{" ("} + \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}[i].description + \textcolor{stringliteral}{"): "} + to\_string(dur[i]) + \textcolor{stringliteral}{"s "} + \textcolor{stringliteral}{"["} + 
      to\_string(block\_percent[i]) + \textcolor{stringliteral}{"\(\backslash\)%]"} + \textcolor{stringliteral}{" "};
100     *\hyperlink{classlogger_a8e3da449edb99f9ecc59858c0e75beca}{report\_stream} << s << endl;
101   \}
102 
103   *\hyperlink{classlogger_a8e3da449edb99f9ecc59858c0e75beca}{report\_stream} << endl << \textcolor{stringliteral}{" itemized log "} << endl;
104   \textcolor{keywordflow}{for} (map<string, float>::iterator it = \hyperlink{classlogger_a8097637b66086185096030c96a1189ba}{item\_duration}.begin(); it!= 
      \hyperlink{classlogger_a8097637b66086185096030c96a1189ba}{item\_duration}.end(); it++)
105     *\hyperlink{classlogger_a8e3da449edb99f9ecc59858c0e75beca}{report\_stream} << it->first << \textcolor{stringliteral}{" : "} << it->second << endl;
106 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlogger_afba86118a3bb044060be8309b3fa755a}\label{classlogger_afba86118a3bb044060be8309b3fa755a}} 
\index{logger@{logger}!start@{start}}
\index{start@{start}!logger@{logger}}
\subsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void logger\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}
109                   \{
110   \hyperlink{classlog__entry}{log\_entry} new\_log(\textcolor{stringliteral}{"Start"}, \textcolor{stringliteral}{""}, 0);
111   \textcolor{comment}{//cerr << " started " << endl;}
112   \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.push\_back(new\_log);
113   \textcolor{comment}{//cerr << logger::logs.size() << endl;}
114 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlogger_abb856642f4e62c7a4a11cc4a2d963010}\label{classlogger_abb856642f4e62c7a4a11cc4a2d963010}} 
\index{logger@{logger}!stop@{stop}}
\index{stop@{stop}!logger@{logger}}
\subsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void logger\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}
117                  \{
118   \hyperlink{classlog__entry}{log\_entry} new\_log(\textcolor{stringliteral}{"Finish"}, \textcolor{stringliteral}{""}, 0);
119   \textcolor{comment}{//cerr << " finished " << endl;}
120   \hyperlink{classlogger_a46e89697a97bc41a90ec78763bfe4d39}{logs}.push\_back(new\_log);
121   \textcolor{comment}{//cerr << logs.size() << endl;}
122   \textcolor{keywordflow}{if} (\hyperlink{classlogger_adbcc380b0ef53e23125f91e1c8f13f4e}{report})
123     \hyperlink{classlogger_ab518e6d927694bb7329e933fa75c27bf}{log}();
124 
125 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}\label{classlogger_a9d29b49bd318a719a8e85b59eac54fe0}} 
\index{logger@{logger}!current\+\_\+depth@{current\+\_\+depth}}
\index{current\+\_\+depth@{current\+\_\+depth}!logger@{logger}}
\subsubsection{\texorpdfstring{current\+\_\+depth}{current\_depth}}
{\footnotesize\ttfamily int logger\+::current\+\_\+depth = 1\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{classlogger_a8097637b66086185096030c96a1189ba}\label{classlogger_a8097637b66086185096030c96a1189ba}} 
\index{logger@{logger}!item\+\_\+duration@{item\+\_\+duration}}
\index{item\+\_\+duration@{item\+\_\+duration}!logger@{logger}}
\subsubsection{\texorpdfstring{item\+\_\+duration}{item\_duration}}
{\footnotesize\ttfamily map$<$ string, float $>$ logger\+::item\+\_\+duration\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{classlogger_af21bf7ca37e55cf225b282ab2f312c95}\label{classlogger_af21bf7ca37e55cf225b282ab2f312c95}} 
\index{logger@{logger}!item\+\_\+last\+\_\+start@{item\+\_\+last\+\_\+start}}
\index{item\+\_\+last\+\_\+start@{item\+\_\+last\+\_\+start}!logger@{logger}}
\subsubsection{\texorpdfstring{item\+\_\+last\+\_\+start}{item\_last\_start}}
{\footnotesize\ttfamily map$<$ string, high\+\_\+resolution\+\_\+clock\+::time\+\_\+point $>$ logger\+::item\+\_\+last\+\_\+start\hspace{0.3cm}{\ttfamily [static]}}



the last time each item was started 

\mbox{\Hypertarget{classlogger_a46e89697a97bc41a90ec78763bfe4d39}\label{classlogger_a46e89697a97bc41a90ec78763bfe4d39}} 
\index{logger@{logger}!logs@{logs}}
\index{logs@{logs}!logger@{logger}}
\subsubsection{\texorpdfstring{logs}{logs}}
{\footnotesize\ttfamily vector$<$ \hyperlink{classlog__entry}{log\+\_\+entry} $>$ logger\+::logs\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{classlogger_adbcc380b0ef53e23125f91e1c8f13f4e}\label{classlogger_adbcc380b0ef53e23125f91e1c8f13f4e}} 
\index{logger@{logger}!report@{report}}
\index{report@{report}!logger@{logger}}
\subsubsection{\texorpdfstring{report}{report}}
{\footnotesize\ttfamily bool logger\+::report = true\hspace{0.3cm}{\ttfamily [static]}}



if true, at the end of the program, a hierarchical report is printed 

\mbox{\Hypertarget{classlogger_a8e3da449edb99f9ecc59858c0e75beca}\label{classlogger_a8e3da449edb99f9ecc59858c0e75beca}} 
\index{logger@{logger}!report\+\_\+stream@{report\+\_\+stream}}
\index{report\+\_\+stream@{report\+\_\+stream}!logger@{logger}}
\subsubsection{\texorpdfstring{report\+\_\+stream}{report\_stream}}
{\footnotesize\ttfamily ostream $\ast$ logger\+::report\+\_\+stream = \&cout\hspace{0.3cm}{\ttfamily [static]}}



the stream to report the final report. Default is cout 

\mbox{\Hypertarget{classlogger_a26812b5ba03f130e8dae3446d5fc032f}\label{classlogger_a26812b5ba03f130e8dae3446d5fc032f}} 
\index{logger@{logger}!stat@{stat}}
\index{stat@{stat}!logger@{logger}}
\subsubsection{\texorpdfstring{stat}{stat}}
{\footnotesize\ttfamily bool logger\+::stat = false\hspace{0.3cm}{\ttfamily [static]}}



if true, statistics will be displayed, e.\+g. number of star vertices / edges or the number of partition graphs etc 

\mbox{\Hypertarget{classlogger_a7db37821f875f2ba3540980b355779f5}\label{classlogger_a7db37821f875f2ba3540980b355779f5}} 
\index{logger@{logger}!stat\+\_\+stream@{stat\+\_\+stream}}
\index{stat\+\_\+stream@{stat\+\_\+stream}!logger@{logger}}
\subsubsection{\texorpdfstring{stat\+\_\+stream}{stat\_stream}}
{\footnotesize\ttfamily ostream $\ast$ logger\+::stat\+\_\+stream = \&cout\hspace{0.3cm}{\ttfamily [static]}}



the stream to report the statistics. Default is cout 

\mbox{\Hypertarget{classlogger_aab3c778c044ddf4b1b5fad8f4c230ff9}\label{classlogger_aab3c778c044ddf4b1b5fad8f4c230ff9}} 
\index{logger@{logger}!verbose@{verbose}}
\index{verbose@{verbose}!logger@{logger}}
\subsubsection{\texorpdfstring{verbose}{verbose}}
{\footnotesize\ttfamily bool logger\+::verbose = true\hspace{0.3cm}{\ttfamily [static]}}



if true, every entry is printed at the time of its report, default is false 

\mbox{\Hypertarget{classlogger_ae8d04646d8d5244120781025a4d8540b}\label{classlogger_ae8d04646d8d5244120781025a4d8540b}} 
\index{logger@{logger}!verbose\+\_\+stream@{verbose\+\_\+stream}}
\index{verbose\+\_\+stream@{verbose\+\_\+stream}!logger@{logger}}
\subsubsection{\texorpdfstring{verbose\+\_\+stream}{verbose\_stream}}
{\footnotesize\ttfamily ostream $\ast$ logger\+::verbose\+\_\+stream = \&cout\hspace{0.3cm}{\ttfamily [static]}}



the stream for printing entries at the time of arrival, default is cout 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{logger_8h}{logger.\+h}\item 
\hyperlink{logger_8cpp}{logger.\+cpp}\end{DoxyCompactItemize}
